(function(e){function t(t){for(var r,s,l=t[0],i=t[1],c=t[2],p=0,d=[];p<l.length;p++)s=l[p],o[s]&&d.push(o[s][0]),o[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02dd":function(e,t,n){},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"38c8":function(e,t,n){},"47c6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("6b54"),n("cadf"),n("551c"),n("f751"),n("097d");var r,o,a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"App"}},[n("geoPalMap",{attrs:{locations:e.locations,lasso:e.lasso},on:{onLasso:function(t){e.lasso=!e.lasso},captured:function(t){return e.onCaptured(t)}}}),n("div",{staticClass:"buttons"},[n("FileUpload",{on:{onLoad:function(t){return e.onLoad(t)}}}),n("div",{staticClass:"wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){e.lasso=!e.lasso}}},[e._v("\n              Lasso\n      ")])]),n("div",{staticClass:"wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){e.colorPickerToggle=!e.colorPickerToggle}}},[e._v("\n              Change Icon Color\n      ")])])],1),n("CapturedDetails",{attrs:{capturedMarkers:e.capturedMarkers}}),n("ColorPicker",{attrs:{toggled:e.colorPickerToggle&&e.capturedMarkers.length>0},on:{changeColor:function(t){return e.changeMarkers(t)}}})],1)},l=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"})},c=[],u=(n("ac6a"),{name:"geoPalMap",data:function(){return{capturedMarkers:[],geocoder:null,drawingManager:null,places:null,rectangle:null,allowMove:!1}},props:{locations:Array,lasso:Boolean},methods:{triggerLasso:function(){var e=this;e.rectangle&&(e.rectangle.setMap(null),e.rectangle=null,e.capturedMarkers=[]),e.drawingManager.setMap(e.$map)},handleGeocodeResults:function(e,t){var n=this;if("OK"!==t||!e[0])throw new Error(t);n.allowMove&&(n.allowMove=!1,n.$map.setCenter(e[0].geometry.location),n.$map.fitBounds(e[0].geometry.viewport),n.$map.setZoom(12)),n.places.getDetails({placeId:e[0].place_id},function(e,t){n.handlePlacesResults(e,t)})},handlePlacesResults:function(e,t){var n=this,r=function(e){e.infowindow.open(n.$map,e)};if(t===n.$google.maps.places.PlacesServiceStatus.OK){var o=new n.$google.maps.Marker({position:e.geometry.location,map:n.$map,title:e.formatted_address,icon:{url:n.$markerColors.red.url}});o.infowindow=new n.$google.maps.InfoWindow({content:e.adr_address}),o.addListener("click",function(){return r(o)}),n.$markers.push(o)}},createMarkersFromInput:function(e){var t=this;t.allowMove=!0,e.forEach(function(e){e.position&&e.position.lat&&e.position.lng?t.geocoder.geocode({location:e.position},function(e,n){return t.handleGeocodeResults(e,n)}):e.address?t.geocoder.geocode({address:e.address},function(e,n){return t.handleGeocodeResults(e,n)}):e.placeId?t.places.getDetails({placeId:e.placeId},function(e,n){return t.handlePlacesResults(e,n)}):alert("Invalid Inout File")})},clearDownMarkers:function(){this.$markers.map(function(e){return e.setMap(null)}),this.$markers=[]},checkMarkers:function(){var e=this;e.$markers.length>0&&e.rectangle&&(e.capturedMarkers=e.$markers.filter(function(t){return e.rectangle.getBounds().contains(t.getPosition())}))}},watch:{capturedMarkers:function(e){this.$emit("captured",e)},lasso:function(e){e?this.triggerLasso():this.drawingManager.setMap(null)},locations:function(e){var t=this;e.length>0&&(t.clearDownMarkers(),t.createMarkersFromInput(e))}},mounted:function(){var e=this;try{var t=this;t.geocoder=new t.$google.maps.Geocoder,t.$map=new t.$google.maps.Map(this.$el),t.drawingManager=new t.$google.maps.drawing.DrawingManager,t.places=new t.$google.maps.places.PlacesService(t.$map),t.geocoder.geocode({address:"Dublin"},function(e,n){if("OK"!==n||!e[0])throw new Error(n);t.$map.setCenter(e[0].geometry.location),t.$map.fitBounds(e[0].geometry.viewport)}),t.drawingManager.setOptions({drawingMode:t.$google.maps.drawing.OverlayType.RECTANGLE,drawingControl:!0,drawingControlOptions:{position:t.$google.maps.ControlPosition.TOP_CENTER,drawingModes:[t.$google.maps.drawing.OverlayType.RECTANGLE]},rectangleOptions:{strokeColor:"#6c6c6c",strokeWeight:3.5,fillColor:"#926239",fillOpacity:.6}}),t.drawingManager.setOptions({drawingControl:!1}),t.$google.maps.event.addListener(t.drawingManager,"rectanglecomplete",function(t){e.rectangle=t,e.$emit("onLasso"),e.checkMarkers()})}catch(n){console.error(n)}}}),p=u,d=(n("9e0d"),n("2877")),g=Object(d["a"])(p,i,c,!1,null,"3490bd72",null),f=g.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-btn-wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){return e.$refs.file.click()}}},[e._v("Upload a file")]),n("input",{ref:"file",attrs:{type:"file",name:"myfile"},on:{change:e.onFileChange}})])},h=[],v={name:"FileUpload",methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createData(t[0])},createData:function(e){var t=this,n=new FileReader;n.onload=function(e){t.$emit("onLoad",JSON.parse(e.target.result))},n.readAsText(e)}}},w=v,k=(n("9bcf"),Object(d["a"])(w,m,h,!1,null,"3031d334",null)),b=k.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.capturedMarkers.length>0,expression:"capturedMarkers.length > 0"}],staticClass:"tbl"},[n("table",{staticClass:"fixed_header"},[n("thead",[n("tr",[n("th",[e._v("Address")]),n("th",[e._v("Lat")]),n("th",[e._v("Lang")])])]),n("tbody",e._l(e.capturedMarkers,function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.title))]),n("td",[e._v(e._s(t.position.lat()))]),n("td",[e._v(e._s(t.position.lng()))])])}),0)])])])],1)},C=[],$={name:"CapturedDetails",props:{capturedMarkers:Array}},y=$,_=(n("ddf2"),Object(d["a"])(y,M,C,!1,null,"3c78405a",null)),O=_.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"color-picker"},[n("span",[e._v("Select a Color: ")]),n("select",{ref:"select",attrs:{id:"color-select"}},e._l(e.$markerColors,function(t){return n("option",{key:t.id,domProps:{value:t.url}},[e._v("\n            "+e._s(e._f("capitalize")(t.text))+"\n          ")])}),0),n("button",{staticClass:"btn",on:{click:function(t){return e.$emit("changeColor",e.$refs.select.value)}}},[e._v("\n                Change Color\n        ")])])])],1)},x=[],E={name:"CapturedDetails",props:{toggled:Boolean}},L=E,T=(n("69b5"),Object(d["a"])(L,P,x,!1,null,"4c256ac0",null)),j=T.exports,I={name:"App",components:{geoPalMap:f,FileUpload:b,CapturedDetails:O,ColorPicker:j},data:function(){return{locations:[],lasso:!1,colorPickerToggle:!1,capturedMarkers:[]}},methods:{changeMarkers:function(e){var t=e;this.capturedMarkers.map(function(e){return e.setIcon({url:t})})},onLoad:function(e){this.locations=e},onCaptured:function(e){this.capturedMarkers=e}}},S=I,D=(n("034f"),Object(d["a"])(S,s,l,!1,null,null,null)),A=D.exports,R=n("795b"),F=n.n(R),B="AIzaSyCAIiEL-crtmcnUBR6Cao8i-YJibz_vkpI",G="gmapsCallback",N=!!window.google,U=new F.a(function(e,t){r=e,o=t});function z(){if(N)return U;N=!0,window[G]=function(){return r(window.google)};var e=document.createElement("script");return e.async=!0,e.defer=!0,e.src="https://maps.googleapis.com/maps/api/js?key=".concat(B,"&callback=").concat(G,"&libraries=drawing,places"),e.onerror=o,document.querySelector("head").appendChild(e),U}z().then(function(e){a["a"].prototype.$google=e,a["a"].prototype.$map=null,a["a"].prototype.$markers=[],a["a"].prototype.$markerColors={red:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",text:"red"},blue:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",text:"blue"},yellow:{url:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",text:"yellow"},green:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",text:"green"},purple:{url:"http://maps.google.com/mapfiles/ms/icons/purple-dot.png",text:"purple"},pink:{url:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png",text:"pink"}},a["a"].config.productionTip=!1,a["a"].filter("capitalize",function(e){if(!e)return"";var t=e.toString();return t.charAt(0).toUpperCase()+t.slice(1)}),new a["a"]({render:function(e){return e(A)}}).$mount("#app")})},"64a9":function(e,t,n){},"69b5":function(e,t,n){"use strict";var r=n("02dd"),o=n.n(r);o.a},"9bcf":function(e,t,n){"use strict";var r=n("47c6"),o=n.n(r);o.a},"9e0d":function(e,t,n){"use strict";var r=n("38c8"),o=n.n(r);o.a},"9e75":function(e,t,n){},ddf2:function(e,t,n){"use strict";var r=n("9e75"),o=n.n(r);o.a}});
//# sourceMappingURL=app.1c688129.js.map