(function(e){function t(t){for(var o,s,i=t[0],l=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],r[s]&&d.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},1222:function(e,t,n){},5117:function(e,t,n){"use strict";var o=n("db7d"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("6b54"),n("cadf"),n("551c"),n("f751"),n("097d");var o,r,a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"App"}},[n("geoPalMap",{attrs:{locations:e.locations,lasso:e.lasso},on:{onLasso:function(t){e.lasso=!e.lasso},captured:function(t){return e.onCaptured(t)}}}),n("div",{staticClass:"buttons"},[n("FileUpload",{on:{onLoad:function(t){return e.onLoad(t)}}}),n("div",{staticClass:"wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){e.lasso=!e.lasso}}},[e._v("\n              Lasso\n      ")])]),n("div",{staticClass:"wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){e.colorPickerToggle=!e.colorPickerToggle}}},[e._v("\n              Change Icon Color\n      ")])])],1),n("CapturedDetails",{attrs:{capturedMarkers:e.capturedMarkers}}),n("ColorPicker",{attrs:{toggled:e.colorPickerToggle&&e.capturedMarkers.length>0},on:{changeColor:function(t){return e.changeMarkers(t)}}})],1)},i=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"})},c=[],u=(n("ac6a"),{name:"geoPalMap",data:function(){return{capturedMarkers:[],geocoder:null,drawingManager:null,places:null,rectangle:null,allowMove:!1}},props:{locations:Array,lasso:Boolean},methods:{triggerLasso:function(){var e=this;e.clearLasso(),e.drawingManager.setMap(e.$map)},handleGeocodeResults:function(e,t){var n=this;if("OK"!==t||!e[0])throw new Error(t);n.allowMove&&(n.allowMove=!1,n.$map.setCenter(e[0].geometry.location),n.$map.fitBounds(e[0].geometry.viewport),n.$map.setZoom(12)),n.places.getDetails({placeId:e[0].place_id},function(e,t){n.handlePlacesResults(e,t)})},handlePlacesResults:function(e,t){var n=this,o=function(e){e.infowindow.open(n.$map,e)};if(t===n.$google.maps.places.PlacesServiceStatus.OK){var r=new n.$google.maps.Marker({position:e.geometry.location,map:n.$map,title:e.formatted_address,icon:{url:n.$markerColors.red.url}});r.infowindow=new n.$google.maps.InfoWindow({content:e.adr_address}),r.addListener("click",function(){return o(r)}),n.$markers.push(r)}},createMarkersFromInput:function(e){var t=this;t.allowMove=!0,e.forEach(function(e){e.position&&e.position.lat&&e.position.lng?t.geocoder.geocode({location:e.position},function(e,n){return t.handleGeocodeResults(e,n)}):e.address?t.geocoder.geocode({address:e.address},function(e,n){return t.handleGeocodeResults(e,n)}):e.placeId?t.places.getDetails({placeId:e.placeId},function(e,n){return t.handlePlacesResults(e,n)}):alert("Invalid Inout File")})},clearDownMarkers:function(){this.$markers.map(function(e){return e.setMap(null)}),this.$markers=[]},clearLasso:function(){var e=this;e.rectangle&&(e.rectangle.setMap(null),e.rectangle=null,e.capturedMarkers=[])},checkMarkers:function(){var e=this;e.$markers.length>0&&e.rectangle&&(e.capturedMarkers=e.$markers.filter(function(t){return e.rectangle.getBounds().contains(t.getPosition())}))}},watch:{capturedMarkers:function(e){this.$emit("captured",e)},lasso:function(e){e?this.triggerLasso():this.drawingManager.setMap(null)},locations:function(e){var t=this;e.length>0&&(t.clearDownMarkers(),t.clearLasso(),t.createMarkersFromInput(e))}},mounted:function(){var e=this;try{var t=this;t.geocoder=new t.$google.maps.Geocoder,t.$map=new t.$google.maps.Map(this.$el),t.drawingManager=new t.$google.maps.drawing.DrawingManager,t.places=new t.$google.maps.places.PlacesService(t.$map),t.geocoder.geocode({address:"Dublin"},function(e,n){if("OK"!==n||!e[0])throw new Error(n);t.$map.setCenter(e[0].geometry.location),t.$map.fitBounds(e[0].geometry.viewport)}),t.drawingManager.setOptions({drawingMode:t.$google.maps.drawing.OverlayType.RECTANGLE,drawingControl:!0,drawingControlOptions:{position:t.$google.maps.ControlPosition.TOP_CENTER,drawingModes:[t.$google.maps.drawing.OverlayType.RECTANGLE]},rectangleOptions:{strokeColor:"#6c6c6c",strokeWeight:3.5,fillColor:"#926239",fillOpacity:.6}}),t.drawingManager.setOptions({drawingControl:!1}),t.$google.maps.event.addListener(t.drawingManager,"rectanglecomplete",function(t){e.rectangle=t,e.$emit("onLasso"),e.checkMarkers()})}catch(n){console.error(n)}}}),p=u,d=(n("e546"),n("2877")),g=Object(d["a"])(p,l,c,!1,null,"d6a3c3f4",null),f=g.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-btn-wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){return e.$refs.file.click()}}},[e._v("Upload a file")]),n("input",{ref:"file",attrs:{type:"file",name:"myfile"},on:{change:e.onFileChange}})])},h=[],v={name:"FileUpload",methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createData(t[0])},createData:function(e){var t=this,n=new FileReader;n.onload=function(e){t.$emit("onLoad",JSON.parse(e.target.result))},n.readAsText(e)}}},w=v,k=(n("d471"),Object(d["a"])(w,m,h,!1,null,"6bc25ff6",null)),b=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.capturedMarkers.length>0,expression:"capturedMarkers.length > 0"}],staticClass:"tbl"},[n("table",{staticClass:"fixed_header"},[n("thead",[n("tr",[n("th",[e._v("Address")]),n("th",{staticClass:"position"},[e._v("Lat")]),n("th",{staticClass:"position"},[e._v("Lang")])])]),n("tbody",e._l(e.capturedMarkers,function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.title))]),n("td",{staticClass:"position"},[e._v(e._s(t.position.lat().toString().substr(0,12)))]),n("td",{staticClass:"position"},[e._v(e._s(t.position.lng().toString().substr(0,12)))])])}),0)])])])],1)},M=[],$={name:"CapturedDetails",props:{capturedMarkers:Array}},y=$,_=(n("ea31"),Object(d["a"])(y,C,M,!1,null,"6f13b2d6",null)),O=_.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"color-picker"},[n("span",[e._v("Select a Color: ")]),n("select",{ref:"select",attrs:{id:"color-select"}},e._l(e.$markerColors,function(t){return n("option",{key:t.id,domProps:{value:t.url}},[e._v("\n            "+e._s(e._f("capitalize")(t.text))+"\n          ")])}),0),n("button",{staticClass:"btn",on:{click:function(t){return e.$emit("changeColor",e.$refs.select.value)}}},[e._v("\n                Change Color\n        ")])])])],1)},x=[],L={name:"CapturedDetails",props:{toggled:Boolean}},E=L,S=(n("5117"),Object(d["a"])(E,P,x,!1,null,"cc03777a",null)),T=S.exports,j={name:"App",components:{geoPalMap:f,FileUpload:b,CapturedDetails:O,ColorPicker:T},data:function(){return{locations:[],lasso:!1,colorPickerToggle:!1,capturedMarkers:[]}},methods:{changeMarkers:function(e){var t=e;this.capturedMarkers.map(function(e){return e.setIcon({url:t})})},onLoad:function(e){this.locations=e},onCaptured:function(e){this.capturedMarkers=e}}},I=j,D=(n("034f"),Object(d["a"])(I,s,i,!1,null,null,null)),A=D.exports,R=n("795b"),F=n.n(R),B="AIzaSyCAIiEL-crtmcnUBR6Cao8i-YJibz_vkpI",G="gmapsCallback",N=!!window.google,U=new F.a(function(e,t){o=e,r=t});function z(){if(N)return U;N=!0,window[G]=function(){return o(window.google)};var e=document.createElement("script");return e.async=!0,e.defer=!0,e.src="https://maps.googleapis.com/maps/api/js?key=".concat(B,"&callback=").concat(G,"&libraries=drawing,places"),e.onerror=r,document.querySelector("head").appendChild(e),U}z().then(function(e){a["a"].prototype.$google=e,a["a"].prototype.$map=null,a["a"].prototype.$markers=[],a["a"].prototype.$markerColors={red:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",text:"red"},blue:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",text:"blue"},yellow:{url:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",text:"yellow"},green:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",text:"green"},purple:{url:"http://maps.google.com/mapfiles/ms/icons/purple-dot.png",text:"purple"},pink:{url:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png",text:"pink"}},a["a"].config.productionTip=!1,a["a"].filter("capitalize",function(e){if(!e)return"";var t=e.toString();return t.charAt(0).toUpperCase()+t.slice(1)}),new a["a"]({render:function(e){return e(A)}}).$mount("#app")})},"64a9":function(e,t,n){},"9e0f":function(e,t,n){},"9f3f":function(e,t,n){},d471:function(e,t,n){"use strict";var o=n("9e0f"),r=n.n(o);r.a},db7d:function(e,t,n){},e546:function(e,t,n){"use strict";var o=n("1222"),r=n.n(o);r.a},ea31:function(e,t,n){"use strict";var o=n("9f3f"),r=n.n(o);r.a}});
//# sourceMappingURL=app.2639943d.js.map