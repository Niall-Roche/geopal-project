(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)i=s[p],o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"2e66":function(e,t,n){"use strict";var r=n("f08c"),o=n.n(r);o.a},"32ac":function(e,t,n){},"341c":function(e,t,n){},"47c6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("6b54"),n("cadf"),n("551c"),n("f751"),n("097d");var r,o,a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"App"}},[n("geoPalMap",{attrs:{locations:e.locations,lasso:e.lasso},on:{onLasso:function(t){e.lasso=!e.lasso},captured:function(t){return e.onCaptured(t)}}}),n("div",{staticClass:"buttons"},[n("FileUpload",{on:{onLoad:function(t){return e.onLoad(t)}}}),n("div",{staticClass:"wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){e.lasso=!e.lasso}}},[e._v("\n              Lasso\n      ")])]),n("div",{staticClass:"wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){e.colorPickerToggle=e.capturedMarkers.length>0}}},[e._v("\n              Change Icon Color\n      ")])])],1),n("CapturedDetails",{attrs:{capturedMarkers:e.capturedMarkers}}),n("ColorPicker",{attrs:{toggled:e.colorPickerToggle},on:{changeColor:function(t){return e.changeMarkers(t)}}})],1)},s=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"})},c=[],u={name:"geoPalMap",data:function(){return{capturedMarkers:[],google:null,geocoder:null,map:null,drawingManager:null,rectangle:null,clicked:!1}},props:{locations:Array,lasso:Boolean},methods:{triggerLasso:function(){var e=this;e.rectangle&&(e.rectangle.setMap(null),e.rectangle=null,e.capturedMarkers=[]),e.drawingManager.setMap(e.$map)},createMarkersFromInput:function(e){var t=this,n=function(e){e.infowindow.open(t.$map,e)};t.$markers=e.map(function(e){var r=new t.$google.maps.Marker({position:e.position,map:t.$map,title:e.title,icon:{url:t.$markerColors.red.url}}),o='<div id="content">\n                                  <div id="siteNotice">\n                                  </div>\n                                  <h1 id="firstHeading" class="firstHeading">'.concat(e.title,'</h1>\n                                  <div id="bodyContent">\n                                    ').concat(e.info,"\n                                  </div>\n                                 </div>");return r.infowindow=new t.$google.maps.InfoWindow({content:o}),r.addListener("click",function(){return n(r)}),r})},clearDownMarkers:function(){this.$markers.map(function(e){return e.setMap(null)}),this.$markers=[]},checkMarkers:function(){var e=this;e.$markers.length>0&&e.rectangle&&(e.capturedMarkers=e.$markers.filter(function(t){return e.rectangle.getBounds().contains(t.getPosition())}))}},watch:{capturedMarkers:function(e){this.$emit("captured",e)},lasso:function(e){e?this.triggerLasso():this.drawingManager.setMap(null)},locations:function(e){var t=this;e.length>0&&(t.clearDownMarkers(),t.createMarkersFromInput(e))}},mounted:function(){var e=this;try{var t=this;t.geocoder=new t.$google.maps.Geocoder,t.$map=new t.$google.maps.Map(this.$el),t.drawingManager=new t.$google.maps.drawing.DrawingManager,t.geocoder.geocode({address:"Dublin"},function(e,n){if("OK"!==n||!e[0])throw new Error(n);t.$map.setCenter(e[0].geometry.location),t.$map.fitBounds(e[0].geometry.viewport)}),t.drawingManager.setOptions({drawingMode:t.$google.maps.drawing.OverlayType.RECTANGLE,drawingControl:!0,drawingControlOptions:{position:t.$google.maps.ControlPosition.TOP_CENTER,drawingModes:[t.$google.maps.drawing.OverlayType.RECTANGLE]},rectangleOptions:{strokeColor:"#6c6c6c",strokeWeight:3.5,fillColor:"#926239",fillOpacity:.6}}),t.drawingManager.setOptions({drawingControl:!1}),t.$google.maps.event.addListener(t.drawingManager,"rectanglecomplete",function(t){e.rectangle=t,e.$emit("onLasso"),e.checkMarkers()})}catch(n){console.error(n)}}},p=u,d=(n("f0f3"),n("2877")),g=Object(d["a"])(p,l,c,!1,null,"31061b21",null),f=g.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-btn-wrapper"},[n("button",{staticClass:"btn",on:{click:function(t){return e.$refs.file.click()}}},[e._v("Upload a file")]),n("input",{ref:"file",attrs:{type:"file",name:"myfile"},on:{change:e.onFileChange}})])},h=[],v={name:"FileUpload",methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createData(t[0])},createData:function(e){var t=this,n=new FileReader;n.onload=function(e){t.$emit("onLoad",JSON.parse(e.target.result))},n.readAsText(e)}}},w=v,k=(n("9bcf"),Object(d["a"])(w,m,h,!1,null,"3031d334",null)),b=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.capturedMarkers.length>0,expression:"capturedMarkers.length > 0"}],staticClass:"tbl"},[n("table",{staticClass:"fixed_header"},[e._m(0),n("tbody",e._l(e.capturedMarkers,function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.title))]),n("td",[e._v(e._s(t.position.lat()))]),n("td",[e._v(e._s(t.position.lng()))])])}),0)])])},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Address")]),n("th",[e._v("Lat")]),n("th",[e._v("Lang")])])])}],y={name:"CapturedDetails",props:{capturedMarkers:Array}},_=y,$=(n("2e66"),Object(d["a"])(_,C,M,!1,null,"71c99c21",null)),O=$.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"color-picker"},[n("span",[e._v("Select a Color: ")]),n("select",{ref:"select",attrs:{id:"color-select"}},e._l(e.$markerColors,function(t){return n("option",{key:t.id,domProps:{value:t.url}},[e._v("\n            "+e._s(e._f("capitalize")(t.text))+"\n          ")])}),0),n("button",{staticClass:"btn",on:{click:function(t){return e.$emit("changeColor",e.$refs.select.value)}}},[e._v("\n                Change Color\n        ")])])])],1)},P=[],L={name:"CapturedDetails",props:{toggled:Boolean}},E=L,j=(n("c397"),Object(d["a"])(E,x,P,!1,null,"824027da",null)),T=j.exports,A={name:"App",components:{geoPalMap:f,FileUpload:b,CapturedDetails:O,ColorPicker:T},data:function(){return{locations:[],lasso:!1,colorPickerToggle:!1,capturedMarkers:[]}},methods:{changeMarkers:function(e){var t=e;this.capturedMarkers.map(function(e){return e.setIcon({url:t})})},onLoad:function(e){this.locations=e},onCaptured:function(e){this.capturedMarkers=e}}},D=A,S=(n("034f"),Object(d["a"])(D,i,s,!1,null,null,null)),F=S.exports,I=n("795b"),N=n.n(I),U="AIzaSyCAIiEL-crtmcnUBR6Cao8i-YJibz_vkpI",B="gmapsCallback",R=!!window.google,z=new N.a(function(e,t){r=e,o=t});function J(){if(R)return z;R=!0,window[B]=function(){return r(window.google)};var e=document.createElement("script");return e.async=!0,e.defer=!0,e.src="https://maps.googleapis.com/maps/api/js?key=".concat(U,"&callback=").concat(B,"&libraries=drawing"),e.onerror=o,document.querySelector("head").appendChild(e),z}J().then(function(e){a["a"].prototype.$google=e,a["a"].prototype.$map=null,a["a"].prototype.$markers=[],a["a"].prototype.$markerColors={red:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",text:"red"},blue:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",text:"blue"},yellow:{url:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",text:"yellow"},green:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",text:"green"},purple:{url:"http://maps.google.com/mapfiles/ms/icons/purple-dot.png",text:"purple"},pink:{url:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png",text:"pink"}},a["a"].config.productionTip=!1,a["a"].filter("capitalize",function(e){if(!e)return"";var t=e.toString();return t.charAt(0).toUpperCase()+t.slice(1)}),new a["a"]({render:function(e){return e(F)}}).$mount("#app")})},"64a9":function(e,t,n){},"9bcf":function(e,t,n){"use strict";var r=n("47c6"),o=n.n(r);o.a},c397:function(e,t,n){"use strict";var r=n("341c"),o=n.n(r);o.a},f08c:function(e,t,n){},f0f3:function(e,t,n){"use strict";var r=n("32ac"),o=n.n(r);o.a}});
//# sourceMappingURL=app.b5a399a3.js.map